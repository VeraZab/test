// @import "partials/abstract";

.architecture-section {
  @include handheld {
    text-align: center !important;
  }
  .content-section-wrapper {
    padding-top: $gutter * 2;
    padding-bottom: 0;
  }
}

.pre-title {
  @include tablet {
  }

  .pre-title {
    @include handheld {
      text-align: center !important;
      margin-left: 250px;
    }
  }
}

.image-with-complex-text-overlay {
  &.architecture {
    @include media('>=1050px') {
      background: url('https://images-plotly.imgix.net/static/marketing/product/on-premises/architecture.png?auto=compress&auto=format')
        no-repeat;
      background-position: 80% 25%;
      background-size: 920px;
      position: relative;
      @include media('<=1300px') {
        background-size: 820px;
        background-position: 75% 25%;
      }
      @include media('<=1100px') {
        background-size: 620px;
        background-position: 65% 35%;
      }
      .image-with-complex-text-overlay-wrapper {
        position: relative;
        min-height: 800px;
      }
      .text-overlay {
        position: absolute;
        width: 100%;
        height: 100%;
        left: 0;
        top: 0;
      }
    }

    .image {
      display: none;
      @include media('<=1049px') {
        display: block;
      }
    }

    .text-item {
      .text-item-wrapper {
        padding: $unit * 2;
      }
      &:last-of-type {
        margin-bottom: $gutter;
      }
      @include media('<=1049px') {
        & + .text-item {
          margin-top: $gutter;
        }
        position: relative;
        //.pre-title{
        //  text-align: left;
        //}
        .text-item-lines {
          position: absolute;
          height: 100%;
          left: 0;
          top: 0;
          border-left: $color-dodger 2px solid;
          border-bottom: $color-dodger 2px solid;
          width: 100%;
          &::after {
            position: absolute;
            content: '';
            $size: 9px;
            background: $color-dodger;
            width: $size;
            height: $size;
            border-radius: 100%;
            right: -$size/2;
            bottom: -$size/2;
          }

          &::before {
            position: absolute;
            content: '';
            $size: 12px;
            background: $color-aqua;
            border: $color-dodger 2px solid;
            width: $size;
            height: $size;
            border-radius: 100%;
            left: calc(-#{$size} / 2 - 2px);
            top: calc(-#{$size} / 2 - 2px);
          }
        }
      }
      @include media('>=1050px') {
        text-align: left;
        position: absolute;
        &--left {
          &-top {
            top: 120px;
            border-left: $color-dodger 2px solid;
            border-bottom: $color-dodger 2px solid;
            transform: translate3d(-7px, -7px, 0);
            width: 440px;
            .text-item-wrapper {
              &::after {
                position: absolute;
                content: '';
                $size: 9px;
                background: $color-dodger;
                width: $size;
                height: $size;
                border-radius: 100%;
                right: -$size/2;
                bottom: -$size/2;
              }

              &::before {
                position: absolute;
                content: '';
                $size: 12px;
                background: $color-aqua;
                border: $color-dodger 2px solid;
                width: $size;
                height: $size;
                border-radius: 100%;
                left: calc(-#{$size} / 2 - 2px);
                top: calc(-#{$size} / 2 - 2px);
              }
            }
          }

          &-second {
            top: 270px;
            padding-right: $gutter * 2.5;

            width: 440px;
            transform: translate3d(-7px, -7px, 0);
            .text-item-lines {
              position: absolute;
              height: 100%;
              left: 0;
              top: 0;
              border-left: $color-dodger 2px solid;
              border-bottom: $color-dodger 2px solid;
              width: 65%;
              &::after {
                position: absolute;
                content: '';
                $size: 9px;
                background: $color-dodger;
                width: $size;
                height: $size;
                border-radius: 100%;
                right: -$size/2;
                bottom: -$size/2;
              }

              &::before {
                position: absolute;
                content: '';
                $size: 12px;
                background: $color-aqua;
                border: $color-dodger 2px solid;
                width: $size;
                height: $size;
                border-radius: 100%;
                left: calc(-#{$size} / 2 - 2px);
                top: calc(-#{$size} / 2 - 2px);
              }
            }
          }
        }
        &--center {
          &-bottom {
            $width: 240px;
            left: calc(50% - #{$width} / 2);
            width: $width;
            bottom: 170px;

            .text-item-lines {
              position: absolute;
              //height:100%;
              right: 0;
              top: 0;
              border-left: $color-dodger 2px solid;
              border-top: $color-dodger 2px solid;
              height: 20%;
              width: 100%;
              //transform: translateX(-160px);
              &::after {
                position: absolute;
                content: '';
                $size: 9px;
                background: $color-dodger;
                width: $size;
                height: $size;
                border-radius: 100%;
                right: -$size/2;
                top: -$size/2;
              }

              &::before {
                position: absolute;
                content: '';
                $size: 12px;
                background: $color-aqua;
                border: $color-dodger 2px solid;
                width: $size;
                height: $size;
                border-radius: 100%;
                left: calc(-#{$size} / 2 - 2px);
                bottom: calc(-#{$size} / 2 - 2px);
              }
            }
          }
        }

        &--right {
          &-bottom {
            top: 260px;
            right: 0px;
            padding-left: $gutter;
            //text-align: right;

            .text-item-lines {
              position: absolute;
              height: 100%;
              right: 0;
              top: 0;
              border-left: $color-dodger 2px solid;
              border-bottom: $color-dodger 2px solid;
              width: 20%;
              transform: translateX(-160px);
              &::after {
                position: absolute;
                content: '';
                $size: 9px;
                background: $color-dodger;
                width: $size;
                height: $size;
                border-radius: 100%;
                right: -$size/2;
                bottom: -$size/2;
              }

              &::before {
                position: absolute;
                content: '';
                $size: 12px;
                background: $color-aqua;
                border: $color-dodger 2px solid;
                width: $size;
                height: $size;
                border-radius: 100%;
                left: calc(-#{$size} / 2 - 2px);
                top: calc(-#{$size} / 2 - 2px);
              }
            }
          }

          &-top {
            top: 120px;
            padding-left: $gutter * 3;
            right: 0;
            width: 340px;
            transform: translate3d(-7px, -7px, 0);
            p {
              //text-align: right;
            }
            .text-item-lines {
              position: absolute;
              height: 100%;
              right: 0;
              top: 0;
              border-right: $color-dodger 2px solid;
              border-bottom: $color-dodger 2px solid;
              width: 25%;
              transform: translateX(-260px);
              &::after {
                position: absolute;
                content: '';
                $size: 9px;
                background: $color-dodger;
                width: $size;
                height: $size;
                border-radius: 100%;
                left: -$size/2;
                bottom: -$size/2;
              }

              &::before {
                position: absolute;
                content: '';
                $size: 12px;
                background: $color-aqua;
                border: $color-dodger 2px solid;
                width: $size;
                height: $size;
                border-radius: 100%;
                right: calc(-#{$size} / 2 - 2px);
                top: calc(-#{$size} / 2 - 2px);
              }
            }
          }
        }
      }
    }
  }
}
